{% extends 'base.html' %}

{% block title %}Campaign - {{ campaign.title }}{% endblock %}

{% block content %}
<div class="container py-4">
    <a href="{{ url_for('main.campaigns_by_type', campaign_type=campaign.campaign_type) }}" class="text-decoration-none small">
        <i class="fas fa-arrow-left me-1"></i>Back to {{ campaign.campaign_type|title }}
    </a>

    <div class="row g-4 mt-1">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                {% if campaign.image_url %}
                <img src="{{ campaign.image_url }}" class="card-img-top" alt="{{ campaign.title }}">
                {% endif %}
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <span class="badge bg-{{ 'success' if campaign.campaign_type == 'health' else 'info' if campaign.campaign_type == 'education' else 'warning' }}">
                            {{ campaign.campaign_type.title() }}
                        </span>
                        <small class="text-muted">{{ campaign.created_at.strftime('%b %d, %Y') if campaign.created_at }}</small>
                    </div>
                    <h2 class="card-title h4">{{ campaign.title }}</h2>
                    {% if inactive %}
                    <div class="alert alert-warning mt-3">This campaign is currently inactive.</div>
                    {% endif %}
                    <p class="mt-3">{{ campaign.content }}</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card shadow-sm mb-3">
                <div class="card-body">
                    <h6 class="fw-semibold mb-3">Campaign Info</h6>
                    <div class="small text-muted">Description</div>
                    <div class="mb-2">{{ campaign.description }}</div>
                    {% if campaign.target_audience %}
                    <div class="small text-muted">Target Audience</div>
                    <div class="mb-2">{{ campaign.target_audience }}</div>
                    {% endif %}
                    <div class="small text-muted">Status</div>
                    <div class="mb-2">{{ 'Active' if campaign.is_active else 'Inactive' }}</div>
                    {% if campaign.start_date %}
                    <div class="small text-muted">Start Date</div>
                    <div class="mb-2">{{ campaign.start_date.strftime('%Y-%m-%d') }}</div>
                    {% endif %}
                    {% if campaign.end_date %}
                    <div class="small text-muted">End Date</div>
                    <div class="mb-2">{{ campaign.end_date.strftime('%Y-%m-%d') }}</div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
